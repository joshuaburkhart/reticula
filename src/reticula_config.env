# use this file to configure a reticula execution

# contact
contactEmail=burkhajo@ohsu.edu

# exacloud account
exacldAcctNme=burkhajo

# build
buildPath="/Users/burkhajo/PycharmProjects/reticula/build"

# templates
templExt=".asc"
relTemplDir="../src/lib/templates"
absTemplDir="/Users/burkhajo/PycharmProjects/reticula/src/lib/templates"

buildTemplExt=".b"
buildInstExt=".sh"
buildTemplDir="build_scripts"
buildInstFilNme="build_docker_image"
buildTemplPath="${absTemplDir}/${buildTemplDir}/${buildInstFilNme}${buildTemplExt}${templExt}"

dockerTemplExt=".d"
dockerTemplDir="dockerfiles"
dockerInstFilNme="exec_python_script"
dockerTemplPath="${absTemplDir}/${dockerTemplDir}/${exec_python_script}${dockerTemplExt}${templExt}"

slurmTemplExt=".s"
slurmTemplDir="slurm_scripts"
slurmInstFilNme="srun_docker_container"
slurmTemplPath="${absTemplDir}/${slurmTemplDir}/${slurmInstFilNme}${slurmTemplExt}${templExt}"

# docker
dockerAcctNme=burkhajo
dockerImgFilNme="${dockerImgNme}.tar.gz"
dockerRelPath="${relTemplDir}/${dockerTemplDir}/${dockerImgNme}${dockerTemplExt}${templExt}"
dockerNmeSpc=${dockerAcctNme}/${dockerImgNme}
dockerDataDir="/reticula/data"

# exacloud docker command
exadocker="sudo /opt/acc/sbin/exadocker"

# lustre file system
lusPath="/home/users/burkhajo/WuLab/WuLabLustreDir/reticula/bin"
lusRelDatDir="~/WuLab/WuLabLustreDir/reticula/data/input"
lusRelImgDir="~/WuLab/WuLabLustreDir/reticula/bin"
lusRelDatPath=${lusRelDatDir}/${datFilNme}
lusRelImgPath=${lusRelImgDir}/${savedGct2gctx.tar.gz}
lusRelOutPath=${lusRelDatDir}

# exacloud scratch file system
scratchHomeDir="/mnt/scratch/${exacldAcctNme}"
scratchDataDir="${scratchHomeDir}/.data"
scratchContDir="${scratchHomeDir}/.container"

# data file
datFilNme="GTEx_Analysis_2017-06-05_v8_RNASeQCv1.1.9_gene_reads.gct"

# design matrix
dsnMtxFilNme="GTEx_design_matrix.cls" #TODO: this is a placeholder filename. Review genepattern files for validation

# pip3 & python3
pip3Pkgs="numpy scipy pandas matplotlib"
p3scriptPath="/Users/burkhajo/PycharmProjects/reticula/src/lib/drivers/aim1_genewise/process_w_deseq2.py"
p3scriptArgs="-verbose -file_name ${lusRelDatPath}" #TODO: provide the data & design matrix filenames here

# slurm workload manager
sbatchTime="--time=24:00:00"
sbatchNTasks="--ntasks=1"
sbatchCpusPerTask="--cpus-per-task=24"
sbatchMemory="--mem=24G"
sbatchOutputFilename="-o slurm-%j.out-%N"
sbatchMailAlert="--mail-type=ALL"
sbatchMailTo="--mail-user=${contactEmail}"
sbatchJobName="--job-name=${dockerImgNme}"
sbatchQueue="-p exacloud"
sbatchSSD="-C ssdscratch"
sbatchScratchStorage="--gres disk:16"

